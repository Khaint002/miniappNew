<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mobile Swipe Tabs Full Height</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <style>
    html, body {
      height: 100%;
      margin: 0;
      overflow: hidden; /* chặn cuộn toàn trang */
    }
    .scroll-tabs {
      overflow-x: auto;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
      border-bottom: 1px solid #dee2e6;
    }
    .scroll-tabs .nav-item {
      flex: 0 0 auto;
    }
    .scroll-tabs .nav-link {
      white-space: nowrap;
      color: #333;
      padding: 10px 16px;
    }
    .scroll-tabs .nav-link.active {
      font-weight: bold;
      color: #0d6efd !important;
      border-bottom: 3px solid #0d6efd;
    }
    .scroll-tabs::-webkit-scrollbar { display: none; }

    /* Swiper full chiều cao còn lại */
    .swiper {
      height: calc(100% - 48px); /* 48px ~ chiều cao tab bar (tùy chỉnh) */
    }
    .swiper-slide {
      height: 100%;
      overflow-y: auto; /* Cho phép cuộn nội dung trong slide */
      -webkit-overflow-scrolling: touch;
      background: #f8f9fa;
      padding: 15px;
    }
  </style>
</head>
<body>
<div class="container-fluid p-0 h-100 d-flex flex-column">

  <!-- Tabs -->
  <ul class="nav nav-tabs scroll-tabs flex-nowrap" id="tabMenu">
    <li class="nav-item"><a class="nav-link active" data-index="0">Tất cả</a></li>
    <li class="nav-item"><a class="nav-link" data-index="1">Chờ vận chuyển</a></li>
    <li class="nav-item"><a class="nav-link" data-index="2">Đang vận chuyển</a></li>
    <li class="nav-item"><a class="nav-link" data-index="3">Cần đánh giá</a></li>
    <li class="nav-item"><a class="nav-link" data-index="4">Hoàn tất</a></li>
  </ul>

  <!-- Nội dung (Swiper để vuốt ngang) -->
  <div class="swiper mySwiper flex-grow-1">
    <div class="swiper-wrapper">
      <div class="swiper-slide">
        <h5>Tất cả</h5>
        <p>Đây là danh sách dài để test scroll bên trong...</p>
        <p>Lorem ipsum dolor sit amet...</p>
        <p>... (nhiều đoạn văn lặp lại)</p>
        <p>Lorem ipsum dolor sit amet...</p>
        <p>Lorem ipsum dolor sit amet...</p>
        <p>Lorem ipsum dolor sit amet...</p>
        <p>Lorem ipsum dolor sit amet...</p>
        <p>Lorem ipsum dolor sit amet...</p>
        <p>Lorem ipsum dolor sit amet...</p>
      </div>
      <div class="swiper-slide"><h5>Chờ vận chuyển</h5><p>Nội dung tab 2...</p></div>
      <div class="swiper-slide"><h5>Đang vận chuyển</h5><p>Nội dung tab 3...</p></div>
      <div class="swiper-slide"><h5>Cần đánh giá</h5><p>Nội dung tab 4...</p></div>
      <div class="swiper-slide"><h5>Hoàn tất</h5><p>Nội dung tab 5...</p></div>
    </div>
  </div>

</div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  // init Swiper
  var swiper = new Swiper(".mySwiper", {
    spaceBetween: 0,
    on: {
      slideChange: function () {
        let index = this.activeIndex;
        $("#tabMenu .nav-link").removeClass("active");
        $('#tabMenu .nav-link[data-index="'+index+'"]').addClass("active");
        scrollTabToCenter($('#tabMenu .nav-link[data-index="'+index+'"]'));
      }
    }
  });

  // Click tab -> chuyển slide
  $("#tabMenu .nav-link").on("click", function () {
    let index = $(this).data("index");
    swiper.slideTo(index);
  });

  // Auto scroll tab vào giữa
  function scrollTabToCenter($item) {
    let $container = $("#tabMenu");
    let containerWidth = $container.width();
    let itemPos = $item.position().left + $container.scrollLeft();
    let itemWidth = $item.outerWidth();
    let scrollPos = itemPos - (containerWidth / 2) + (itemWidth / 2);
    $container.animate({ scrollLeft: scrollPos }, 300);
  }
</script>
</body>
</html>
